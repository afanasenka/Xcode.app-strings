init
resetProgressWindow
begin
initWithProgressBarVisibility:
setResetProgressWindow:
commit
progress
setProgressValue:
setVisible:
setProgressBarVisible:
show
setProgress:
progressBarVisible
.cxx_destruct
_progressBarVisible
_progress
_resetProgressWindow
setServerQueue:
serverQueue
initWithQueue:
setObserverServer:
observerServer
setDelegate:
start
setManager:
manager
initWithMachServiceName:
setListener:
listener
resume
hasEntitlement:
tokenFromNSXPCConnection:
hasRequiredEntitlements:
invalidate
isEqual:
class
self
performSelector:
performSelector:withObject:
performSelector:withObject:withObject:
isProxy
isKindOfClass:
isMemberOfClass:
conformsToProtocol:
respondsToSelector:
retain
release
autorelease
retainCount
zone
hash
superclass
description
debugDescription
resetDataWithRequest:completion:
interfaceWithProtocol:
setWithObjects:
setClasses:forSelector:argumentIndex:ofReply:
setExportedInterface:
setExportedObject:
sync
setRemoteObjectInterface:
_setQueue:
clients
addObject:
removeObject:
setInvalidationHandler:
setInterruptionHandler:
remoteObjectProxy
willBeginDataResetWithMode:
didBeginDataResetWithMode:
currentConnection
mode
errorWithDomain:code:userInfo:
enumerateObserverConnections:
initWithReason:
setRebootType:
setSource:
sharedService
shutdownWithOptions:
didCompleteDataResetMode:withError:completion:
synchronousRemoteObjectProxyWithErrorHandler:
listener:shouldAcceptNewConnection:
resetWithModeWillBegin:
resetWithMode:didUpdateWithProgress:
resetWithModeDidBegin:
resetWithModeDidFinish:error:
connectionHasRequiredEntitlements:
didAddObserverClientWithXPCConnection:
setClients:
currentResetState
setCurrentResetState:
completion
setCompletion:
completionClient
setCompletionClient:
currentResetMode
setCurrentResetMode:
_listener
_observerServer
_clients
_serverQueue
_manager
_currentResetState
_completion
_completionClient
_currentResetMode
initWithServiceName:
setObserving:
resetConnection
setMode:
queue
delegate
reason
setReason:
options
disallowProximitySetup
setDisallowProximitySetup:
hideProgress
uiPresenter
dataResetWorkerConnection
remoteObjectProxyWithErrorHandler:
finishResetOfMode:withError:
_obliterateAndBrickDevice:
doObliterateWithType:showingProgress:options:
setDataResetWorkerConnection:
setQueue:
setUiPresenter:
_disallowProximitySetup
_delegate
_dataResetWorkerConnection
_queue
_uiPresenter
_reason
_mode
_xpcConnection
connect
countByEnumeratingWithState:objects:count:
Setting progress bar visible: %d
Show progress UI
got progress here: %lf, self.progress: %lf
Daemon server start
connection does not have new entitlement
connection does not have frontboard entitlement
connection does not have springboard entitlement
got incomming connection in devicedataresetd
Invalidating connection in daemon
Interrupting connection in daemon
Adding client complete in devicedataresetd
Setting current connection to observe data reset flow, currentState = %ld
Client with connection:%@ register as observer
Connection: %@ missed the willBeginDataResetWithMode broadcast, send it now.
Connection: %@ missed the both broadcast, send them now.
Calling reset data in devicedataresetd server
Now proceed with reset in daemon
Reset finished in daemon with error: %@
resetWithModeWillBegin in DDRServer
Broadcast resetWithModeWillBegin to client connection: %@
resetWithModeDidBegin in DDRServer
Broad cast resetWithModeDidBegin to client connection: %@
resetWithModeDidFinish in DDRServer
device data reset daemon got response from worker: %@
No error, reboot
increament observer to: %d
decrement observer to: %d
Observer count is zero reboot!
reboot directly because no observer anymore.
5s elapsed to reboot.
observer 0, ok to reboot
create data reset worker xpc
DeviceDataResetWorker connection interrupted
DeviceDataResetWorker connection invalidated
Notifying clients of failed reset in devicedataresetd
calling data reset in daemon
Data reset failed with error: %@
data reset manager got call back:%@
Update progress:%lf
Data reset manager calling delegate resetWithModeDidBegin
Starting up DDRObserverServer
Checking incoming connection: %@ to DDRObserverServer
Invalidating connection in DDRObserverServer
Interrupting connection in DDRObserverServer
Adding client complete in DDRObserverServer, listener: %@, connection: %@
Incoming connection called connect
v8@?0
resetProgressWindow
T@"PUIProgressWindow",&,N,V_resetProgressWindow
progressBarVisible
TB,N,V_progressBarVisible
progress
Td,N,V_progress
com.apple.devicedataresetd
com.apple.devicedatareset.workerqueue
com.apple.devicedatareset.DeviceDataResetService
com.apple.wipedevice
com.apple.frontboard.wipedevice
com.apple.springboard.wipedevice
hash
TQ,R
superclass
T#,R
description
T@"NSString",R,C
debugDescription
v16@?0@"NSError"8
v16@?0@"NSXPCConnection"8
ResetOrRestoreComplete
listener
T@"NSXPCListener",&,N,V_listener
observerServer
T@"DDRObserverServer",&,N,V_observerServer
clients
T@"NSMutableArray",&,N,V_clients
serverQueue
T@"NSObject<OS_dispatch_queue>",&,N,V_serverQueue
manager
T@"DDRManager",&,N,V_manager
currentResetState
Tq,N,V_currentResetState
completion
T@?,C,N,V_completion
completionClient
T@"NSXPCConnection",&,N,V_completionClient
currentResetMode
Tq,N,V_currentResetMode
DDRLogForCategory
/Library/Caches/com.apple.xbs/Sources/DeviceDataReset_Sim/DeviceDataReset-25/DeviceDataResetXPCServiceWorker/DDRLogging.m
category < DDRLoggingCategoryCount
DeviceDataResetDefault
DeviceDataResetProgress
DeviceDataResetDaemon
DeviceDataResetFramework
com.apple.devicedatareset.xpcserviceworker
com.apple.devicedatareset.daemon
com.apple.devicedatareset.framework
com.apple.devicedatareset.manager
com.apple.devicedatareset.devicedataresetxpcserviceworker
dataResetWorkerConnection
T@"NSXPCConnection",&,N,V_dataResetWorkerConnection
queue
T@"NSObject<OS_dispatch_queue>",&,N,V_queue
uiPresenter
T@"DDRUIPresenter",&,N,V_uiPresenter
reason
T@"NSString",&,N,V_reason
disallowProximitySetup
TB,N,V_disallowProximitySetup
mode
Tq,N,V_mode
delegate
T@"<DDRManagerDelegate>",W,N,V_delegate
com.apple.devicedatareset.DeviceDataResetObservationService.NonLaunching
T@"<DDRObserverServerDelegate>",W,N,V_delegate
DDRUIPresenter
DDRServerProtocol
NSObject
DDRClientResetProtocol
DDRServer
NSXPCListenerDelegate
DDRManagerDelegate
DDRObserverServerDelegate
DDRWorkerServerProtocol
DDRWorkerClientProtocol
DDRManager
DDRServerObserverProtocol
DDRClientObserverProtocol
DDRObserverServer
@16@0:8
v20@0:8B16
v16@0:8
v24@0:8d16
B16@0:8
d16@0:8
v24@0:8@16
@"PUIProgressWindow"
B24@0:8@16
#16@0:8
@24@0:8:16
@32@0:8:16@24
@40@0:8:16@24@32
B24@0:8#16
B24@0:8:16
Vv16@0:8
Q16@0:8
^{_NSZone=}16@0:8
B24@0:8@"Protocol"16
@"NSString"16@0:8
v32@0:8@16@?24
v32@0:8@"DDRResetRequest"16@?<v@?@"NSError">24
B32@0:8@16@24
B32@0:8@"NSXPCListener"16@"NSXPCConnection"24
v24@0:8q16
v32@0:8q16d24
v32@0:8q16@24
v32@0:8q16@"NSError"24
B24@0:8@"BSAuditToken"16
v24@0:8@"NSXPCConnection"16
q16@0:8
@?16@0:8
v24@0:8@?16
@"NSXPCListener"
@"DDRObserverServer"
@"NSMutableArray"
@"NSObject<OS_dispatch_queue>"
@"DDRManager"
@"NSXPCConnection"
v36@0:8^{__CFString=}16B24@28
@"<DDRManagerDelegate>"
@"DDRUIPresenter"
@"NSString"
v40@0:8q16@24@?32
v40@0:8q16@"NSError"24@?<v@?>32
@24@0:8@16
@"<DDRObserverServerDelegate>"
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
<key>BuildMachineOSBuild</key>
<string>19A603013</string>
<key>CFBundleDevelopmentRegion</key>
<string>en</string>
<key>CFBundleDisplayName</key>
<string>DeviceDataResetd</string>
<key>CFBundleExecutable</key>
<string>devicedataresetd</string>
<key>CFBundleIdentifier</key>
<string>com.apple.devicedatareset.devicedataresetd</string>
<key>CFBundleInfoDictionaryVersion</key>
<string>6.0</string>
<key>CFBundleName</key>
<string>devicedataresetd</string>
<key>CFBundleShortVersionString</key>
<string>1.0</string>
<key>CFBundleSupportedPlatforms</key>
<array>
<string>iPhoneSimulator</string>
</array>
<key>CFBundleVersion</key>
<string>1</string>
<key>DTCompiler</key>
<string>com.apple.compilers.llvm.clang.1_0</string>
<key>DTPlatformBuild</key>
<string>12A8179f</string>
<key>DTPlatformName</key>
<string>iphonesimulator</string>
<key>DTPlatformVersion</key>
<string>14.2</string>
<key>DTSDKBuild</key>
<string>18B5072c</string>
<key>DTSDKName</key>
<string>iphonesimulator14.2.internal</string>
<key>DTXcode</key>
<string>1200</string>
<key>DTXcodeBuild</key>
<string>12A8179f</string>
<key>MinimumOSVersion</key>
<string>14.2</string>
<key>UIDeviceFamily</key>
<array>
<integer>1</integer>
<integer>2</integer>
</array>
</dict>
</plist>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
<key>allow-obliterate-device</key>
<true/>
<key>com.apple.QuartzCore.displayable-context</key>
<true/>
<key>com.apple.QuartzCore.secure-mode</key>
<true/>
<key>com.apple.dataresetworker.access</key>
<true/>
<key>com.apple.frontboard.shutdown</key>
<true/>
<key>com.apple.nfcd.hwmanager</key>
<true/>
<key>com.apple.nfcd.seshat</key>
<true/>
<key>com.apple.security.exception.mach-lookup.global-name</key>
<array>
<string>com.apple.devicedatareset.devicedataresetxpcserviceworker</string>
</array>
<key>com.apple.security.temporary-exception.mach-lookup.global-name</key>
<array>
<string>com.apple.devicedatareset.devicedataresetxpcserviceworker</string>
</array>
<key>platform-application</key>
<true/>
<key>seatbelt-profiles</key>
<array>
<string>devicedataresetd</string>
</array>
</dict>
</plist>
